<html>

<head>
    <meta charset="UTF-8">
    <title>Find A Grave</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- CSS IMPORTS -->
    <link rel="stylesheet" href="assets/css/styles.css">

    <!-- JS IMPORTS -->
    <script type="text/javascript" src="assets/js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="assets/js/load.js">
    </script>
    <script type="text/javascript" src="assets/js/graveSearch.js"></script>

    <div class="fonts"></div>

    <style>
        canvas#EastLawnCemetery {

            /*            background-image: url("assets/images/eastLawnCemetery.jpg");*/
            width: auto;
            height: 960px;
            margin-left: 40%;
            position: relative;
            bottom: 325px;

        }

        .eastControls {
            width: 10%;
            clear: left;
            position: relative;
            display: inline-block;
            top: 400px;
            margin-left: 100px;

        }

        .eastControls p {
            position: relative;
            right: 75px;
            padding-top: 20px;
        }

        input.slider {
            position: relative;
            width: 300px;
            right: 90px
        }
    </style>
</head>

<body>

    <nav></nav>

    <div id="pageTitle">
        <h1>Find a Grave</h1>
    </div>


    <form onsubmit="return false;">

        <label for="fname">First Name:</label>
        <input type="text" id="fname" name="fname">


        <label for="lname">Last Name:</label>
        <input type="text" id="lname" name="lname">


        <input type="submit" value="Search" id="submit">


        <div id="results"></div>

    </form>

    <div class="eastControls">
        <h1>East Lawn</h1>
        <p>X-Index</p>
        <input type="range" min="50" max="275" value="157" id="xValue_eastCemetery" class="slider">

        <p>Y-Index</p>
        <input type="range" min="22" max="141" value="93" id="yValue_eastCemetery" class="slider">

        <p>Search Radius</p>
        <input type="range" min="5" max="20" value="10" id="rValue_eastCemetery" class="slider">
    </div>


    <br>
    <br>
    <br>
    <br>

    <canvas id="EastLawnCemetery"></canvas>


    <script>
        var nativeWidth = 960; // the resolution the games is designed to look best in
        var nativeHeight = 540;


        var img = new Image();
        img.src = "assets/images/eastLawnCemetery.jpg"
        // the resolution of the device that is being used to play
        var deviceWidth = window.innerWidth - 925; // please check for browser compatibility
        var deviceHeight = window.innerHeight - 7.5;

        var radius = 50;

        var scaleFitNative = Math.min(deviceWidth / nativeWidth, deviceHeight / nativeHeight);


        var c = document.getElementById("EastLawnCemetery");

        c.style.width = deviceWidth + "px";
        c.style.height = deviceHeight + "px";
        c.width = deviceWidth;
        c.height = deviceHeight;


        var ctx = c.getContext("2d");
        ctx.drawImage(img, 10, 10);
        $("input").change(function() {

            var c = document.getElementById("EastLawnCemetery");
            var ctx = c.getContext("2d");

            ctx.clearRect(0, 0, c.width, c.height);
            ctx.drawImage(img, 10, 10);



            var x_coord = document.getElementById("xValue_eastCemetery").value;
            var y_coord = document.getElementById("yValue_eastCemetery").value;
            //            var radius = document.getElementById("rValue_eastCemetery").value;

            console.log(`X: ${x_coord}, Y: ${y_coord}, R:${radius}`)

            ctx.beginPath();
            ctx.arc(x_coord, y_coord, radius, 0, 2 * Math.PI, false);

            ctx.lineWidth = .6;
            //            ctx.globalAlpha = 0.3;
            ctx.fillStyle = 'blue';

            ctx.fill();

        });


        $('canvas').click(function(e) { //Offset mouse Position




            var posX = $(this).offset().left,
                posY = $(this).offset().top;
            //            alert((e.pageX - posX) + ' , ' + (e.pageY - posY));

            var x_coord = e.pageX - posX;
            var y_coord = e.pageY - posY;


            var c = document.getElementById("EastLawnCemetery");
            var ctx = c.getContext("2d");

            ctx.clearRect(0, 0, c.width, c.height);

            //            var radius = document.getElementById("rValue_eastCemetery").value;

            console.log(`X: ${x_coord}, Y: ${y_coord}, R:${radius}`)

            ctx.beginPath();
            ctx.arc(x_coord, y_coord, radius, 0, 2 * Math.PI, false);

            ctx.lineWidth = .6;
            ctx.globalAlpha = 0.3;
            ctx.fillStyle = 'blue';

            ctx.fill();
            ctx.globalAlpha = 1;
            ctx.drawImage(img, 10, 10);

        });


        var c = document.getElementById("EastLawnCemetery");
        var ctx = c.getContext("2d");



        var x_coord = document.getElementById("xValue_eastCemetery").value;
        var y_coord = document.getElementById("yValue_eastCemetery").value;
        //        var radius = document.getElementById("rValue_eastCemetery").value;

        console.log(x_coord);
        console.log(y_coord);
        console.log(radius);



        ctx.beginPath();
        ctx.arc(x_coord, y_coord, radius, 0, 2 * Math.PI, false);

        ctx.lineWidth = .6;
        ctx.globalAlpha = 0.3;
        ctx.fillStyle = 'blue';

        ctx.fill();
        ctx.globalAlpha = 1;
        ctx.drawImage(img, 10, 10);
        //        var x_min = 60;
        //        var x_max = c.width;
        //        var y_min = 0;
        //        var y_max = c.height;
        //
        //        var x_perc = .5;
        //        var y_perc = .5;
        //        var c_radius = 10;
        //
        //        var x_coord = Math.floor(x_max * x_perc);
        //        var y_coord = Math.floor(y_max * y_perc);
        $("canvas").click(function() {
            console.log($(this).width())
            console.log($(this).height())
        })
    </script>

    <footer></footer>


</body></html>
